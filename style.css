/* --- VARIABLES & DARK MODE --- */
:root { 
    --primary: #f68b1e; 
    --verified: #007bff; 
    --radius: 12px;
    
    /* Couleurs Mode Clair (Défaut) */
    --bg-body: #f4f6f8;
    --bg-card: #ffffff;
    --text-main: #1a1a1a;
    --text-muted: #666666;
    --border: #e1e4e8;
    --shadow: 0 4px 20px rgba(0,0,0,0.05);
}

[data-theme="dark"] {
    /* Couleurs Mode Sombre */
    --bg-body: #121212;
    --bg-card: #1e1e1e;
    --text-main: #f0f0f0;
    --text-muted: #a0a0a0;
    --border: #333333;
    --shadow: 0 4px 20px rgba(0,0,0,0.3);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg-body); margin: 0; padding-top: 80px; color: var(--text-main); overflow-x: hidden; transition: background 0.3s, color 0.3s; }
img { max-width: 100%; display: block; }
a { text-decoration: none; color: inherit; }

/* --- HEADER --- */
header { position: fixed; top: 0; left: 0; width: 100%; background: var(--bg-card); box-shadow: 0 2px 15px rgba(0,0,0,0.03); z-index: 1000; padding: 10px 0; border-bottom: 1px solid var(--border); }
.header-content { width: 100%; max-width: 1300px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; }
.logo { font-size: 1.5rem; font-weight: 800; color: var(--text-main); letter-spacing: -1px; }
.logo span { color: var(--primary); }
.top-bar-mobile { display: none; }

/* Bouton Dark Mode */
.theme-btn { background: none; border: 1px solid var(--border); color: var(--text-main); width: 35px; height: 35px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; margin-left: 10px; }

.search-container { flex: 1; max-width: 700px; margin: 0 20px; display: flex; gap: 10px; }
.search-bar { display: flex; width: 100%; position: relative; }
.search-bar input { width: 100%; padding: 10px 15px; border: 1px solid var(--border); border-radius: 50px; outline: none; background: var(--bg-body); color: var(--text-main); transition: 0.3s; }
.search-bar button { position: absolute; right: 5px; top: 5px; background: var(--primary); color: white; border: none; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; }
.sort-select { padding: 0 15px; border: 1px solid var(--border); border-radius: 50px; background: var(--bg-card); cursor: pointer; color: var(--text-main); outline: none; }

.seller-link { background: var(--text-main); color: var(--bg-card); padding: 8px 20px; border-radius: 50px; font-weight: 600; font-size: 0.9rem; }

/* --- HERO --- */
.hero-section { max-width: 1300px; margin: 20px auto; padding: 0 20px; }
.hero-banner { background: linear-gradient(135deg, #111, #333); color: white; padding: 40px; border-radius: 20px; text-align: center; }
.hero-text h1 { margin: 0 0 10px; font-size: 2rem; font-weight: 800; }
.hero-btn { background: var(--primary); color: white; padding: 10px 30px; border-radius: 50px; font-weight: bold; display: inline-block; margin-top: 15px; }

/* --- SHOPS SLIDER --- */
.shops-container-wrapper { max-width: 1300px; margin: 0 auto 30px; padding: 0 20px; overflow: hidden; }
.shops-title { font-size: 1rem; font-weight: 800; margin-bottom: 15px; color: var(--text-muted); text-transform: uppercase; border-left: 4px solid var(--primary); padding-left: 10px; }
.shops-section { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 15px; scrollbar-width: none; align-items: flex-start; }
.shop-bubble { display: flex; flex-direction: column; align-items: center; text-decoration: none; min-width: 80px; width: 80px; flex-shrink: 0; color: var(--text-muted); }
.shop-avatar-container { position: relative; width: 70px !important; height: 70px !important; margin-bottom: 8px; }
.shop-avatar-container img { width: 100% !important; height: 100% !important; border-radius: 18px !important; border: 1px solid var(--border); object-fit: cover !important; transition: all 0.3s ease; background: white; display: block; }
.shop-bubble:hover img { transform: translateY(-5px); border-color: var(--primary); }

/* Indicateur Ouvert/Fermé */
.status-dot { position: absolute; bottom: 0; right: 0; width: 14px; height: 14px; border-radius: 50%; border: 2px solid white; z-index: 5; }
.status-open { background-color: #2ecc71; box-shadow: 0 0 5px #2ecc71; }
.status-closed { background-color: #e74c3c; }

/* --- COLLECTIONS (Option 1) --- */
.collections-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 30px; }
.collection-card { position: relative; height: 100px; border-radius: 15px; overflow: hidden; cursor: pointer; transition: transform 0.2s; }
.collection-card:hover { transform: scale(1.03); }
.collection-card img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.6); }
.collection-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-weight: 800; text-transform: uppercase; text-shadow: 0 2px 5px rgba(0,0,0,0.5); text-align: center; width: 100%; }

/* --- CARTE --- */
.map-section { max-width: 1300px; margin: 0 auto 30px; padding: 0 20px; }
#map-container { height: 300px; width: 100%; border-radius: 12px; z-index: 1; border: 1px solid var(--border); }
.map-wrapper { position: relative; border-radius: 12px; overflow: hidden; }
.map-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 5; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: opacity 0.3s; }
.map-btn { background: white; color: black; padding: 10px 20px; border-radius: 30px; font-weight: bold; }
.map-wrapper.active .map-overlay { opacity: 0; pointer-events: none; }

/* --- MAIN --- */
.main-container { max-width: 1300px; margin: 0 auto; display: grid; grid-template-columns: 260px 1fr; gap: 30px; padding: 0 20px 40px; align-items: start; }
.sidebar { background: var(--bg-card); padding: 25px; border-radius: 16px; border: 1px solid var(--border); position: sticky; top: 100px; }
.filter-title { font-weight: 700; margin-bottom: 15px; display: block; font-size: 0.9rem; text-transform: uppercase; color: var(--text-muted); border-bottom: 1px solid var(--border); padding-bottom: 5px; }
.filter-label { display: flex; align-items: center; margin-bottom: 8px; font-size: 0.9rem; color: var(--text-main); cursor: pointer; }

/* --- GRILLE PRODUITS --- */
main { width: 100%; min-width: 0; }
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; }
.card { background: var(--bg-card); border-radius: 16px; overflow: hidden; border: 1px solid var(--border); transition: transform 0.2s; display: flex; flex-direction: column; position: relative; }
.card:hover { transform: translateY(-5px); box-shadow: var(--shadow); }
.card img { width: 100%; height: 200px; object-fit: cover; background: #f9f9f9; border-bottom: 1px solid var(--border); }
.card-body { padding: 12px; display: flex; flex-direction: column; flex-grow: 1; }
.card-title { font-size: 0.95rem; margin: 5px 0; color: var(--text-main); line-height: 1.4; height: 2.8em; overflow: hidden; }
.card-price { color: var(--primary); font-weight: 800; font-size: 1.1rem; margin-top: auto; }
.badge-shop { background: var(--bg-body); color: var(--text-muted); font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; font-weight: 700; border: 1px solid var(--border); }
.btn-view { display: block; margin-top: 10px; text-align: center; border: 1px solid var(--border); color: var(--text-main); text-decoration: none; padding: 8px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; background: var(--bg-body); }

/* --- FLASH SALES --- */
.flash-section { background: var(--bg-card); padding: 20px; margin-bottom: 30px; border-radius: 12px; border: 2px solid var(--primary); }
.flash-title { font-size: 1.3rem; font-weight: 800; color: var(--primary); margin: 0; }
.flash-slider { display: flex; overflow-x: auto; gap: 15px; padding-bottom: 15px; }
.flash-slider .card { min-width: 200px; max-width: 200px; flex-shrink: 0; }

/* --- FOOTER --- */
.main-footer { background: #111; color: white; padding: 60px 0 20px; margin-top: 60px; }
.footer-content { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; }
.stat-pill { background: #222; display: inline-flex; padding: 8px 15px; border-radius: 50px; font-size: 0.85rem; margin-right: 10px; border: 1px solid #333; }
.stat-val { color: var(--primary); font-weight: bold; margin-left: 5px; }
.footer-bottom { text-align: center; margin-top: 40px; border-top: 1px solid #222; padding-top: 20px; font-size: 0.8rem; opacity: 0.5; }

/* MOBILE */
.mobile-filter-btn { display: none; }
.sidebar-overlay { display: none; }
.close-filter { display: none; }

@media (max-width: 900px) {
    body { padding-top: 140px; }
    .header-content { flex-direction: column; align-items: stretch; gap: 10px; padding: 10px 15px; }
    .top-bar-mobile { display: flex; justify-content: space-between; align-items: center; }
    .logo, .seller-link { display: none; } .top-bar-mobile .logo, .top-bar-mobile .seller-link { display: block; }
    
    .search-container { width: 100%; margin: 0; max-width: none; flex-direction: column; gap: 8px; }
    .sort-select { width: 100%; }
    
    .main-layout { display: block; padding: 0 10px; }
    .sidebar { display: none; position: fixed; top: 0; left: 0; width: 85%; height: 100vh; background: var(--bg-card); z-index: 2002; padding: 25px; overflow-y: auto; }
    .sidebar.active { display: block; animation: slideRight 0.3s; }
    .sidebar-overlay.active { display: block; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1999; }
    
    .mobile-filter-btn { display: flex; justify-content: center; width: 100%; padding: 12px; margin-bottom: 20px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 10px; font-weight: 700; color: var(--text-main); cursor: pointer; }
    .close-filter { display: block; text-align: right; font-size: 2rem; margin-bottom: 20px; color: var(--text-main); }

    .grid, .flash-grid { grid-template-columns: repeat(2, 1fr) !important; gap: 10px !important; }
    .card img { height: 140px !important; }
    .flash-slider .card { min-width: 160px; max-width: 160px; }
    .footer-content { grid-template-columns: 1fr; text-align: center; }
}
@keyframes slideRight { from {transform: translateX(-100%);} to {transform: translateX(0);} }
